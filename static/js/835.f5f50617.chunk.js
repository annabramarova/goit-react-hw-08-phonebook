"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[835],{2835:function(e,n,r){r.r(n),r.d(n,{default:function(){return Q}});var t=r(2791),s=r(4270),o=r(5946),i=r(4087),a=r(176),l=r(3204),c=r(9434),d=r(6052),u=r(2286),m=r(5861),x=r(4687),h=r.n(x),p=r(8007),j=r(1686),f=r.n(j),b=r(5705),v=r(5232),g=r(2701),y=r(4585),C=r(311),k=r(7806),z=r(9229),w=r(4224),A=r(7249),S=r(184),I=p.Ry().shape({name:p.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Name is required field"),number:p.Rx().typeError("That doesn't look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").min(8).required("A phone number is required")}),Z={name:"",number:""};function N(){var e=(0,c.I0)(),n=(0,c.v9)(u.Af),r=function(){var r=(0,m.Z)(h().mark((function r(t,s){var o,i,a;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=s.resetForm;try{i=n.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()})),a=n.some((function(e){return e.number===t.number})),i?f().Notify.warning("Contact ".concat(t.name," is already in the phonebook")):a?f().Notify.warning("Contact with number ".concat(t.number," is already in the phonebook")):(e((0,d.uK)(t)),o())}catch(l){console.error(l)}case 2:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}();return(0,t.useEffect)((function(){alert}),[alert]),(0,S.jsx)(i.xu,{children:(0,S.jsx)(b.J9,{initialValues:Z,validationSchema:I,onSubmit:r,children:function(e){var n=e.values,r=e.handleChange,t=e.handleBlur,s=e.handleSubmit,l=e.isSubmitting;return(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",children:(0,S.jsxs)(i.xu,{w:"xl",p:8,borderWidth:1,borderRadius:8,boxShadow:"lg",children:[(0,S.jsx)(i.xu,{textAlign:"center",children:(0,S.jsx)(o.X,{children:"Add contact"})}),(0,S.jsx)(i.xu,{my:4,textAlign:"left",children:(0,S.jsx)("form",{onSubmit:s,children:(0,S.jsxs)(v.K,{spacing:4,children:[(0,S.jsxs)(g.NI,{isRequired:!0,children:[(0,S.jsx)(y.l,{htmlFor:"name",children:"Name"}),(0,S.jsxs)(C.B,{children:[(0,S.jsx)(k.Z,{pointerEvents:"none"}),(0,S.jsx)(A.gs,{type:"text",id:"name",name:"name",placeholder:"Enter name...",value:n.name,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:r,onBlur:t})]}),(0,S.jsx)(z.x,{fontSize:"sm",color:"red.500",children:l&&""===n.name&&"Name is required"})]}),(0,S.jsxs)(g.NI,{isRequired:!0,children:[(0,S.jsx)(y.l,{htmlFor:"number",children:"Number"}),(0,S.jsxs)(C.B,{children:[(0,S.jsx)(k.Z,{pointerEvents:"none"}),(0,S.jsx)(A.gs,{type:"tel",id:"number",name:"number",placeholder:"Enter phone number...",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:n.number,onChange:r,onBlur:t}),(0,S.jsx)(k.x,{pointerEvents:"none"})]}),(0,S.jsx)(z.x,{fontSize:"sm",color:"red.500",children:l&&""===n.number&&"A phone number is required"})]}),(0,S.jsx)(w.z,{mt:4,colorScheme:"teal",isLoading:l,loadingText:"Adding contact to phonebook",type:"submit",isDisabled:!n.name||!n.number,children:"Add contact"})]})})})]})})}})})}var q=r(3433),E=r(8348),B=r(8820),F=r(1413),R=r(4164),O=r(1134),T=r(1820),P=r(3380),_=r(8789),L=r(1461),D=r(7886),K=document.querySelector("#modal-root"),H=function(e){var n,r,t=e.contact,s=e.modalHandler,o=(0,c.I0)(),a=t.id,l=t.name,m=t.number,x=s.isOpen,h=s.onClose,p=(0,O.cI)({defaultValues:{name:l,number:m}}),j=p.register,b=p.handleSubmit,g=p.reset,A=p.formState.errors,I=(0,c.v9)(u.Af);return(0,R.createPortal)((0,S.jsxs)(T.u_,{size:"md",isOpen:x,onClose:null,children:[(0,S.jsx)(P.Z,{}),(0,S.jsxs)(_.h,{p:3,children:[(0,S.jsx)(L.o,{zIndex:"docked",onClick:h}),(0,S.jsxs)(v.K,{as:"form",gap:3,onSubmit:b((function(e){var n=I.every((function(n){var r=n.id;return n.name.toLowerCase()!==e.name.toLowerCase()||r===a})),r=I.every((function(n){var r=n.id;return n.number!==e.number||r===a}));n?r?(o((0,d.Tk)({id:a,data:e})),g(),h()):f().Notify.failure("This number already exists in your phonebook"):f().Notify.failure("This name already exists in your phonebook")})),children:[(0,S.jsxs)(i.xu,{pos:"relative",children:[(0,S.jsxs)(y.l,{children:["Name",(0,S.jsxs)(C.B,{mt:3,children:[(0,S.jsx)(D.I,(0,F.Z)((0,F.Z)({},j("name",{required:"Name is required",pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,message:"Name may contains only letters, apostrophe, dash and spaces."}})),{},{type:"text"})),(0,S.jsx)(k.Z,{pointerEvents:"none",children:(0,S.jsx)(B.nf1,{color:"gray.300"})})]})]}),(0,S.jsx)(i.xu,{position:"absolute",top:"95%",children:(null===A||void 0===A?void 0:A.name)&&(0,S.jsx)(z.x,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===A||void 0===A||null===(n=A.name)||void 0===n?void 0:n.message)||"Error"})})]}),(0,S.jsxs)(i.xu,{pos:"relative",children:[(0,S.jsxs)(y.l,{children:["Number",(0,S.jsxs)(C.B,{mt:3,children:[(0,S.jsx)(D.I,(0,F.Z)((0,F.Z)({},j("number",{required:"Number is required",pattern:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})),{},{type:"tel"})),(0,S.jsx)(k.Z,{pointerEvents:"none",transform:"rotate(-90deg) scale(-1)",children:(0,S.jsx)(B.Nhm,{color:"gray.300"})})]})]}),(0,S.jsx)(i.xu,{position:"absolute",top:"95%",children:(null===A||void 0===A?void 0:A.number)&&(0,S.jsx)(z.x,{fontSize:"xs",color:"#ff001b",textShadow:"rgb(0 0 0 / 25%) 0px 2px 2px",children:(null===A||void 0===A||null===(r=A.number)||void 0===r?void 0:r.message)||"Error"})})]}),(0,S.jsx)(w.z,{type:"submit",children:"Save"})]})]})]}),K)},$=r(7693),V=r(8594),W=document.querySelector("#modal-root"),J=function(e){var n=e.contact,r=e.modalHandler,t=(0,c.I0)(),s=n.id,o=n.name,i=r.isOpen,a=r.onClose;return(0,R.createPortal)((0,S.jsxs)(T.u_,{size:"md",isOpen:i,onClose:a,children:[(0,S.jsx)(P.Z,{}),(0,S.jsxs)(_.h,{p:3,children:[(0,S.jsx)(L.o,{zIndex:"docked"}),(0,S.jsxs)($.x,{children:["Are you sure to delete ",(0,S.jsxs)("b",{children:[" ",o]}),"?"]}),(0,S.jsxs)(V.r,{templateColumns:"repeat(2, 1fr)",gap:3,children:[(0,S.jsx)(w.z,{onClick:function(){return t((0,d.GK)(s))},children:"Delete"}),(0,S.jsx)(w.z,{onClick:a,variant:"outline",children:"Cancel"})]})]})]}),W)},M=function(e){var n=e.contact,r=n.name,t=n.number,s=(0,E.q)(),o=(0,E.q)();return(0,S.jsxs)(a.k,{as:"li",justify:"space-between",align:"center",w:"100%",maxW:"xl",gap:6,px:8,py:3,borderRadius:"16px",boxShadow:"0px 4px 18px -2px #c3d0dd",children:[(0,S.jsxs)(i.xu,{children:[(0,S.jsx)(z.x,{fontSize:"18px",fontWeight:"600",children:r}),(0,S.jsx)(z.x,{children:t})]}),(0,S.jsxs)(a.k,{gap:3,children:[(0,S.jsx)(w.z,{size:"sm",borderRadius:"70% 30% 56% 44% / 44% 61% 39% 56%",onClick:o.onOpen,children:(0,S.jsx)(B.VPh,{})}),(0,S.jsx)(w.z,{size:"sm",borderRadius:"28% 72% 52% 48% / 44% 53% 47% 56%",onClick:s.onOpen,children:(0,S.jsx)(B.$iz,{})})]}),s.isOpen&&(0,S.jsx)(H,{contact:n,modalHandler:s}),o.isOpen&&(0,S.jsx)(J,{contact:n,modalHandler:o})]})},X=function(){var e=(0,c.v9)(u.DI),n=(0,q.Z)(e).sort((function(e,n){return e.name.localeCompare(n.name)}));return(0,S.jsx)(a.k,{as:"ul",direction:"column",gap:4,alignItems:"center",justifyContent:"center",children:null===n||void 0===n?void 0:n.map((function(e){return(0,S.jsx)(M,{contact:e},e.id)}))})},G=r(1634),U=function(){var e=(0,c.I0)(),n=(0,c.v9)(u.AD);return(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",children:(0,S.jsxs)(v.K,{w:"xl",p:8,children:[(0,S.jsx)("label",{htmlFor:"filter",children:"Find contact by Name "}),(0,S.jsxs)(C.B,{children:[(0,S.jsx)(k.Z,{pointerEvents:"none",children:(0,S.jsx)(B.RB5,{})}),(0,S.jsx)(D.I,{type:"text",id:"filter",placeholder:"Find a person",value:n,onChange:function(n){return e((0,G.Tv)(n.target.value))}})]})]})})};function Q(){var e=(0,c.I0)(),n=(0,c.v9)(u.xU),r=(0,c.v9)(u.zh),m=(0,c.v9)(u.sz),x=(0,c.v9)(u.AD),h=(0,c.v9)(u.Fl);return(0,t.useEffect)((function(){e((0,d.yF)())}),[e]),(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(s.q,{children:(0,S.jsx)("title",{children:"Contacts list"})}),(0,S.jsx)(o.X,{as:"h1",mb:5,mt:5,children:"My Contacts Profile"}),(0,S.jsx)(N,{}),(0,S.jsxs)(i.xu,{children:[(0,S.jsx)(U,{}),(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",mb:2,children:n&&(0,S.jsx)(l.$,{color:"gray.300",mb:2})}),r&&(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",color:"red",children:r}),m>0?(0,S.jsx)(X,{}):(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",color:"red",children:"Contacts list is empty"}),0!==x.length&&0===h&&(0,S.jsx)(a.k,{alignItems:"center",justifyContent:"center",color:"red",children:"Contact not found. Please try again or add a new one"})]})]})}}}]);
//# sourceMappingURL=835.f5f50617.chunk.js.map